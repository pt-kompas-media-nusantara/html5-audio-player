var audio=function(){"use strict";var a={audioWrappers:document.getElementsByClassName("box-audio")},t=function(a){var t,e,n,l=Math.floor(a/3600),s=Math.floor((a-3600*l)/60),i=Math.floor(a-3600*l-60*s);return l>0?(t=1>l?"0"+l:l,t+=":"):t="",e=10>s?"0"+s:s,n=10>i?"0"+i:i,t+e+":"+n},e=function(a,t){var e=function(){a.classList.contains("play")?(a.classList.remove("play"),a.classList.add("pause"),a.setAttribute("title","Jeda"),t.play()):a.classList.contains("replay")?(a.classList.remove("replay"),a.classList.add("pause"),a.setAttribute("title","Putar ulang"),t.currentTime=0,t.play()):(a.classList.remove("pause"),a.classList.add("play"),a.setAttribute("title","Putar"),t.pause())};a.addEventListener("click",e,!1)},n=function(a,e){if(isNaN(e.duration))a.textContent="";else{var n=function(){a.textContent=t(e.duration)};e.addEventListener("loadedmetadata",n,!1)}},l=function(a,e,n,l,s){var i,r=function(){i=Math.floor(100/n.duration*n.currentTime),a.style.width=i+"%",e.value=i,s.textContent=t(n.duration-n.currentTime),n.ended&&(l.classList.remove("pause"),l.classList.add("replay"),l.setAttribute("title","Putar ulang"))};n.addEventListener("timeupdate",r,!1)},s=function(a,t){var e,n=function(){e=t.duration*(a.value/100),t.currentTime=e};a.addEventListener("change",n,!1)},i=function(a,t){var e=t.volume;e=a,t.volume=e>=0&&1>=e?e:0>e?0:1},r=function(a,t,e,n){var l,s=function(){l=t.value/100,a.style.width=t.value+"%",e.volume=l,t.setAttribute("value",100*l),l>0?(n.classList.remove("mute"),n.classList.add("unmute")):(n.classList.remove("unmute"),n.classList.add("mute"))};t.addEventListener("change",s,!1)},m=function(a,t,e,n){var l,s=function(){l=parseInt(t.getAttribute("value"),10),a.classList.contains("mute")?(a.classList.remove("mute"),a.classList.add("unmute"),n.volume=l/100,e.style.width=l+"%",t.value=l):(a.classList.remove("unmute"),a.classList.add("mute"),n.volume=0,e.style.width=0,t.value=0)};a.addEventListener("click",s,!1)},p=function(){var o,c,k,d,g,f,x,I,h,P,T,S,p=a.audioWrappers,u=p.length;for(o=0;u>o;o++)c=p[o].getElementsByTagName("audio")[0],k=p[o].getElementsByClassName("controls")[0],g=document.createElement("div"),g.className="btn-play play",g.setAttribute("title","Putar"),f=document.createElement("div"),f.className="bar-progress-wrapper",x=document.createElement("div"),x.className="bar-progress-current",I=document.createElement("input"),I.className="bar-progress-range",I.setAttribute("type","range"),I.setAttribute("value",0),f.appendChild(x),f.appendChild(I),d=document.createElement("div"),d.className="bar-time",d.textContent=t(c.duration),h=document.createElement("div"),h.className="volume-wrapper",P=document.createElement("div"),P.className="ico-volume unmute",T=document.createElement("div"),T.className="bar-volume-current",S=document.createElement("input"),S.className="bar-volume-range",S.setAttribute("type","range"),S.setAttribute("value",50),h.appendChild(P),h.appendChild(T),h.appendChild(S),k.appendChild(g),k.appendChild(f),k.appendChild(d),navigator.userAgent.match(/iPhone|iPad|iPod/i)||k.appendChild(h),n(d,c),e(g,c),l(x,I,c,g,d),s(I,c),i(.5,c),r(T,S,c,P),m(P,S,T,c)},u=function(){p()};return{init:u}}();window.addEventListener("load",audio.init,!1);