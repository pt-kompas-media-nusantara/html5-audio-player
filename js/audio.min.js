var audio=function(a){"use strict";var b={audioWrappers:a.getElementsByClassName("box-audio")},c=function(a){var b,c,d,e=Math.floor(a/3600),f=Math.floor((a-3600*e)/60),g=Math.floor(a-3600*e-60*f);return e>0?(b=1>e?"0"+e:e,b+=":"):b="",c=10>f?"0"+f:f,d=10>g?"0"+g:g,b+c+":"+d},d=function(a,b){var c=function(){a.classList.contains("play")?(a.classList.remove("play"),a.classList.add("pause"),a.setAttribute("title","Jeda"),b.play()):a.classList.contains("replay")?(a.classList.remove("replay"),a.classList.add("pause"),a.setAttribute("title","Putar ulang"),b.currentTime=0,b.play()):(a.classList.remove("pause"),a.classList.add("play"),a.setAttribute("title","Putar"),b.pause())};a.addEventListener("click",c,!1)},e=function(a,b){if(isNaN(b.duration))a.textContent="";else{var d=function(){a.textContent=c(b.duration)};b.addEventListener("loadedmetadata",d,!1)}},f=function(a,b,d,e,f){var g,h=function(){g=Math.floor(100/d.duration*d.currentTime),a.style.width=g+"%",b.value=g,f.textContent=c(d.duration-d.currentTime),d.ended&&(e.classList.remove("pause"),e.classList.add("replay"),e.setAttribute("title","Putar ulang"))};d.addEventListener("timeupdate",h,!1)},g=function(a,b){var c,d=function(){c=b.duration*(a.value/100),b.currentTime=c};a.addEventListener("change",d,!1),a.addEventListener("input",d,!1)},h=function(a,b){var c=b.volume;c=a,b.volume=c>=0&&1>=c?c:0>c?0:1},i=function(a,b,c,d){var e,f=function(){e=b.value/100,a.style.width=b.value+"%",c.volume=e,b.setAttribute("value",100*e),e>0?(d.classList.remove("mute"),d.classList.add("unmute")):(d.classList.remove("unmute"),d.classList.add("mute"))};b.addEventListener("change",f,!1),b.addEventListener("input",f,!1)},j=function(a,b,c,d){var e,f=function(){e=parseInt(b.getAttribute("value"),10),a.classList.contains("mute")?(a.classList.remove("mute"),a.classList.add("unmute"),d.volume=e/100,c.style.width=e+"%",b.value=e):(a.classList.remove("unmute"),a.classList.add("mute"),d.volume=0,c.style.width=0,b.value=0)};a.addEventListener("click",f,!1)},k=function(){var k=b.audioWrappers;[].forEach.call(k,function(b){var k=b.getElementsByTagName("audio")[0],l=a.createElement("div"),m=a.createElement("div"),n=b.getElementsByClassName("controls")[0],o=a.createElement("div"),p=a.createElement("input"),q=a.createElement("div"),r=a.createElement("div"),s=a.createElement("div"),t=a.createElement("input"),u=a.createElement("div");l.className="bar-time",l.textContent=c(k.duration),m.className="btn-play play",m.setAttribute("title","Putar"),o.className="bar-progress-current",p.className="bar-progress-range",p.setAttribute("type","range"),p.setAttribute("value",0),q.className="bar-progress-wrapper",r.className="bar-volume-current",s.className="ico-volume unmute",t.className="bar-volume-range",t.setAttribute("type","range"),t.setAttribute("value",50),u.className="volume-wrapper",q.appendChild(o),q.appendChild(p),u.appendChild(s),u.appendChild(r),u.appendChild(t),n.appendChild(m),n.appendChild(q),n.appendChild(l),navigator.userAgent.match(/iPhone|iPad|iPod/i)||n.appendChild(u),e(l,k),d(m,k),f(o,p,k,m,l),g(p,k),h(.5,k),i(r,t,k,s),j(s,t,r,k)})},l=function(){b.audioWrappers.length>0&&k()};return{init:l}}(document);window.addEventListener("load",audio.init,!1);